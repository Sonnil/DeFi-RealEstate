function $(e){return document.getElementById(e)}function storageGet(e,t){try{const r=localStorage.getItem(e);return r?JSON.parse(r):t}catch{return t}}function storageSet(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch{}}function prefersReducedMotion(){return window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)").matches}function injectHeaderFooter(e){const t=`
<header>
  <div class="nav">
    <div class="brand"><div class="logo">DR</div> <span>DeFiâ€‘RealEstate</span></div>
    <div class="grow"></div>
    <nav role="navigation" aria-label="Primary">
      <a href="index.html" data-page="home" data-i18n="nav_home">Home</a>
      <a href="dividends.html" data-page="dividends" data-i18n="nav_dividends">Dividend Tracker</a>
      <a href="growth.html" data-page="growth" data-i18n="nav_growth">Growth & Forecast</a>
      <a href="marketplace.html" data-page="market" data-i18n="nav_market">Marketplace</a>
      <a href="admin.html" data-page="admin" data-i18n="nav_admin">Admin</a>
    </nav>
    <div class="controls">
      <select id="langSel" aria-label="Language">
        <option value="en">English</option>
        <option value="vi">Tiáº¿ng Viá»‡t</option>
      </select>
      <a class="badge" href="marketplace.html" data-page="market">ðŸ§ª <span data-i18n="demo_mode">Demo data enabled</span></a>
    </div>
  </div>
</header>`,n=`
<footer role="contentinfo">
  <div class="foot">
    <div>Â© <span id="yr"></span> DeFiâ€‘RealEstate â€¢ <span data-i18n="foot_rights">All rights reserved.</span></div>
    <div class="muted">Made for demo â€” mock data only.</div>
  </div>
</footer>`;document.body.insertAdjacentHTML("afterbegin",t),document.body.insertAdjacentHTML("beforeend",n),"function"==typeof initHeader&&initHeader(e)}function openModal(e,t){const n=$(e),o=$(t);if(n&&o){o.classList.add("show"),n.classList.add("show");const e=n.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),t=e[0],o=e[e.length-1];function a(e){"Tab"===e.key?(e.shiftKey&&document.activeElement===t?(e.preventDefault(),o.focus()):!e.shiftKey&&document.activeElement===o&&(e.preventDefault(),t.focus())):"Escape"===e.key&&closeModal(n.id,$(t).id)}n.dataset.trap="1",document.addEventListener("keydown",a),n.__trapHandler=a,setTimeout((()=>{var e;return null===(e=t)||void 0===e?void 0:e.focus()}),0)}}function closeModal(e,t){const n=$(e),o=$(t);n&&o&&(o.classList.remove("show"),n.classList.remove("show"),n.__trapHandler&&(document.removeEventListener("keydown",n.__trapHandler),delete n.__trapHandler))}
